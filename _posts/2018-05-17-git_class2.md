---
layout: post
title:  git 수업 정리2
categories: [git]
---

브랜치 워크플로

롱러닝 브런치: 배포하거나 배포할 코드 실제 운영환경에 나가는것은 마스터 브랜치에 두고 개발된거 합치는것(디벨롭), 실제 개발하고 있는 브랜치(토픽)을 둔다.

리모트브랜치:
지금까지는 다 로컬이었으니까 이제는 리모트

리모트브랜치 이름 (remote)/(branch)

git-remotebranch라는 새 폴더를 만들어 git init을 하고
내가 새로 만든 저장소 주소를 git remote add한다

이후 git remote -v하면
origin	https://github.com/zehye/Git-Remote-breanch.git (fetch)
origin	https://github.com/zehye/Git-Remote-breanch.git (push)
얘네가 나오면 됨

세개의 커밋을 만들고
현재 브랜치의 내용을 마스터 브랜치에 올린다 -> git push origin master
To https://github.com/zehye/Git-Remote-breanch.git
 * [new branch]      master -> master

이를 받은 사람은 이제 클론을 해야하는데
git clone 디렉토리 주소 remote-branch 를 적는다

cd, remote-v, branch-v git log, 모두 다 동일하게 나온다.
클론 받은 저장소가 오리진으로 된다.

이때 클론 받은 사람이 파일을 수정해본다.
vi README.md
add, commit -> commit 두개 만들어서 log 를 통해 파악해보면
해드 마스터와 오리진 마스터가 다르게 들어가있음을 볼 수 있다.

이때 마스터에 오리진 마스터의 내용을 보여주고 싶다면
git push origin master
그러면 git log를 들어가 확인하면 한 곳에 브랜치가 다 모여있다.

오리진 저장소에 변경된 내용을 로컬 워킹 디렉토리에 변경사항만 가져온
바로 적용이 되는 것은 아니다.

이를 합치려면
내가 만든 커밋과 상대가 만든 커밋을 합쳐야 하니까
그때 git fetch origin을 한다.  그러고 나서 git merge origin/master하려고 하면 충돌이 생기고
그 충돌은 앞에서 했던 것처럼 해결한 뒤 git push origin master을 하면 합쳐진당!

리베이스: 머지하는 방법
합치는 방법은 머지, 리베이스

어떻게 달라질까?

머지는 새로운 커밋을 만들었는데, 그래서 조금 복잡했는데
굳이 그러지 않아도 되는 경우가 있따.

합치는 과정이 없이 1자로 가는 로그를 만들어줄 수 있어

C2를 기반으로 하고 있던 C4(Experiment)를 C3(master)도 받고 C3의 뒤로 가도록 하는 방법은
git rebase master (experiment가 현재 브랜치인 경우로 설정. 그러면 현재 브랜치를 master 뒤에 놓도록 하는 명령어)
-> master뒤에 experment 브랜치가 존재한다.

만약 오류가 뜬다면,
vim을 통해 수정하고 git add -A, git rebase continue 하면 된다.

시점만 갈라지는 경우에는 리베이스를 하는게 좋다.

작업한 내용의 기록: merge,
rebase: 옆으로 굳이 안갈라져도 되는 경우
그리고 로컬에서만 해야하고, 푸시한 커밋에서 하면 안된다.
이미 공개 저장소에 푸시한 커밋을 리베이스하지 마라
-> 리베이스하면 기존 커밋을 없애기 때문에, 다른 사람의 가지는 복잡해진다.

그래서 리베이스는 푸시한 커밋은 변경하면 안돈다.!
